<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Task_worker_matching.Views.MyOffers"
             Width="800" Height="600"
             Background="#111827">

  <UserControl.DataContext>
    <!-- Replace with your actual ViewModel binding -->
    <vm:MyOffersViewModel xmlns:vm="clr-namespace:Task_worker_matching.ViewModels" />
  </UserControl.DataContext>

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="0.05*"/>
      <RowDefinition Height="0.9*"/>
      <RowDefinition Height="0.05*"/>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="0.05*"/>
      <ColumnDefinition Width="0.9*"/>
      <ColumnDefinition Width="0.05*"/>
    </Grid.ColumnDefinitions>

    <!-- Navigation Bar -->
    <StackPanel x:Name="NavPanel" Grid.Row="0" Grid.Column="1"
                Orientation="Horizontal"
                Spacing="10"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
      <Button Content="Home" Background="#1f2937" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
      <Button Content="My Offers" Background="#2563eb" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
      <Button Content="Open Requests" Background="#1f2937" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
      <Button Content="Task Execution" Background="#1f2937" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
      <Button Content="Question" Background="#1f2937" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
      <Button Content="Profile" Background="#1f2937" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
      <Button Content="Log Out" Background="#1f2937" Foreground="White" Padding="8,4" CornerRadius="8" BorderBrush="Transparent"/>
    </StackPanel>

    <!-- Main Panel -->
    <Border Grid.Row="1" Grid.Column="1"
            Background="#1f2937"
            CornerRadius="25"
            Padding="20">
      <StackPanel Spacing="16">

        <!-- Heading -->
        <TextBlock Text="My Offers" FontSize="18" FontWeight="Bold" Foreground="White"/>

        <!-- Offers List -->
        <ScrollViewer Height="650" VerticalScrollBarVisibility="Auto">
          <ItemsControl Items="{Binding Offers}">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <Border Background="#111827" CornerRadius="8" Padding="16" BorderBrush="#425f9e" BorderThickness="1" Margin="0 0 0 16">
                  <StackPanel Spacing="8">
                    <TextBlock Text="{Binding Request.Title}" FontSize="16" FontWeight="Bold" Foreground="White"/>
                    <TextBlock Text="Client: {Binding Request.Requester.Name}" Foreground="LightGray" FontSize="12"/>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                      <TextBlock Text="📍 {Binding Request.Location}" Foreground="LightGray" FontSize="12"/>
                      <TextBlock Text="💲 {Binding Fee}" Foreground="LightGray" FontSize="12"/>
                      <TextBlock Text="📅 Sent: {Binding SentDate, StringFormat='{}{0:MMM dd, yyyy}'}" Foreground="LightGray" FontSize="12"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                      <Button Content="View Request"
                              Background="#2563eb"
                              Foreground="White"
                              Padding="6,2"
                              BorderBrush="Transparent"
                              Command="{Binding DataContext.ViewRequestCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                              CommandParameter="{Binding}" />
                      <Button Content="Cancel Offer"
                              Background="#111827"
                              Foreground="Red"
                              Padding="6,2"
                              BorderBrush="Red"
                              BorderThickness="1"
                              Command="{Binding DataContext.CancelOfferCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                              CommandParameter="{Binding}" />
                    </StackPanel>
                    <TextBlock Text="{Binding Status}" Foreground="{Binding Status, Converter={StaticResource StatusToColorConverter}}" HorizontalAlignment="Right"/>
                  </StackPanel>
                </Border>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </ScrollViewer>

      </StackPanel>
    </Border>
  </Grid>
</UserControl>
